(this["webpackJsonpcontact-list"]=this["webpackJsonpcontact-list"]||[]).push([[0],{35:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(16),o=c.n(s),r=c(10),i=c(4),l=c(3),u=c(11),j=function(e){return{type:"SET_USER_NAME",payload:e}},m=c(8),b=(c(35),c(1)),d={setUserName:j},O=Object(m.b)((function(e){return{userName:e.userName}}),d)(Object(i.f)((function(e){var t=e.userName,c=e.history,a=e.setUserName,n=Object(u.a)(e,["userName","history","setUserName"]);return Object(b.jsxs)("header",{className:"header ".concat(n.className),children:[Object(b.jsxs)("h2",{className:"header__hello",children:["Hello, ",t]}),Object(b.jsx)("div",{className:"header__logout",children:Object(b.jsx)("button",{className:"header__logout-btn",onClick:function(){a(""),sessionStorage.removeItem("userName"),c.push("/login")},children:"Logout"})})]})}))),p=(c(38),function(e){var t=e.name,c=e.btnType,a=e.tel,n=e.icon,s=Object(u.a)(e,["name","btnType","tel","icon"]),o=(s.className,Object(u.a)(s,["className"])),r=n?Object(b.jsx)("img",{className:"btn-ico",src:n,alt:""}):t;switch(c){case"a":return Object(b.jsx)("a",{href:"tel:".concat(a),children:Object(b.jsx)("button",Object(l.a)(Object(l.a)({className:"btn btn-call ".concat(s.className)},o),{},{children:r}))});case"cancel":return Object(b.jsx)("button",Object(l.a)(Object(l.a)({className:"btn btn-cancel ".concat(s.className)},o),{},{children:r}));case"primary":return Object(b.jsx)("button",Object(l.a)(Object(l.a)({className:"btn btn-primary ".concat(s.className)},o),{},{children:r}));case"secondary":return Object(b.jsx)("button",Object(l.a)(Object(l.a)({className:"btn btn-secondary ".concat(s.className)},o),{},{children:r}));default:return Object(b.jsx)("button",Object(l.a)(Object(l.a)({className:"btn btn-primary ".concat(s.className)},o),{},{children:r}))}}),h=c.p+"static/media/phone.830947c0.svg",N=c.p+"static/media/pencil.dcb4afb4.svg",f=(c(39),Object(i.f)((function(e){var t=e.contact,c=e.history,a=Object(u.a)(e,["contact","history"]).className;return Object(b.jsxs)("li",{className:"list-item ".concat(a),children:[Object(b.jsx)("img",{className:"list-item__photo",src:t.photoUrl,alt:""}),Object(b.jsx)("div",{className:"list-item__name",children:t.name}),Object(b.jsx)("div",{className:"list-item__call",children:Object(b.jsx)(p,{btnType:"a",icon:h,tel:t.phone})}),Object(b.jsx)("button",{className:"list-item__edit-btn",onClick:function(){c.push("/".concat(t.id,"/edit"))},children:Object(b.jsx)("img",{src:N,alt:""})})]})}))),_=(c(40),Object(m.b)((function(e){return{contacts:(t=e.contacts,t.sort((function(e,t){var c=e.name.toLowerCase(),a=t.name.toLowerCase();return c<a?-1:c>a?1:0})))};var t}))((function(e){var t=e.contacts,c=null;return t&&(c=t.map((function(e){return Object(b.jsx)(f,{contact:e,className:"list__list-item"},e.id)}))),Object(b.jsx)("ul",{className:"list",children:c})}))),x=(c(41),{setUserName:j}),y=Object(m.b)((function(e){return{userName:e.userName}}),x)(Object(i.f)((function(e){var t=e.history;return Object(b.jsxs)("div",{className:"main",children:[Object(b.jsx)(O,{className:"main__header"}),Object(b.jsxs)("main",{className:"main__main",children:[Object(b.jsxs)("div",{className:"main__actions actions",children:[Object(b.jsx)(p,{className:"actions__btn",btnType:"secondary",name:"New Contact",onClick:function(){t.push("/new")}}),Object(b.jsx)(p,{className:"actions__btn",btnType:"secondary",name:"Download CSV"})]}),Object(b.jsx)("div",{className:"main__list",children:Object(b.jsx)(_,{})})]})]})}))),g=(c(42),{setUserName:j}),v=Object(m.b)((function(e){return{userName:e.userName}}),g)(Object(i.f)((function(e){var t=e.userName,c=e.setUserName,a=e.history;return Object(b.jsx)("form",{className:"sign-in",id:"sigIn",children:Object(b.jsxs)("div",{className:"sign-in__wrapper",children:[Object(b.jsx)("span",{className:"sign-in__title",children:"SignIn"}),Object(b.jsx)("input",{className:"sign-in__input",defaultValue:t,type:"text",onChange:function(e){return c(e.target.value)}}),Object(b.jsx)(p,{name:"Submit",btnType:"primary",type:"submit",onClick:function(e){t&&(sessionStorage.setItem("userName",t),a.push("/")),e.preventDefault()},className:"sign-in__submit"})]})})}))),C=c.p+"static/media/close.dfafe742.svg",S=(c(43),function(e){var t=e.children,c=e.history;return Object(b.jsxs)("div",{className:"modal",children:[Object(b.jsx)("div",{className:"modal__close",children:Object(b.jsx)("button",{className:"modal__close-btn",onClick:function(){c.push("/")},children:Object(b.jsx)("img",{src:C,alt:""})})}),Object(b.jsx)("div",{className:"modal__content",children:t})]})}),T=(c(44),{setName:function(e){return{type:"SET_NAME",payload:e}},setPhone:function(e){return{type:"SET_PHONE",payload:e}},addContact:function(e){return{type:"ADD_CONTACT",payload:e}},updateContact:function(e){return{type:"UPDATE_CONTACT",payload:e}}}),E=Object(m.b)((function(e){return{name:e.name,phone:e.phone,contacts:e.contacts}}),T)(Object(i.f)((function(e){var t=e.title,c=e.setName,n=e.setPhone,s=e.name,o=e.phone,r=e.addContact,i=e.updateContact,l=e.history,u=e.match,j=e.contacts;Object(a.useEffect)((function(){return function(){c(""),n(""),l.push("/")}}),[l,c,n]),Object(a.useEffect)((function(){u.params.id&&j.forEach((function(e){e.id==u.params.id&&(c(e.name),n(e.phone))}))}),[]);return Object(b.jsxs)("form",{className:"upsert",children:[Object(b.jsx)("div",{className:"upsert__title upsert__row",children:t}),Object(b.jsx)("input",{className:"upsert__input upsert__row",placeholder:"Contact Name",onChange:function(e){return c(e.target.value)},defaultValue:s}),Object(b.jsx)("input",{className:"upsert__input upsert__row",placeholder:"Contact Phone",onChange:function(e){return n(e.target.value)},defaultValue:o}),Object(b.jsx)(p,{className:"upsert__row",btnType:"primary",name:"Save",size:"m",onClick:function(e){if(u.params.id){var t={id:u.params.id,name:s,phone:o};i(t)}else{r({name:s,phone:o})}l.push("/"),e.preventDefault()}}),Object(b.jsx)(p,{className:"upsert__row",btnType:"cancel",name:"Close",size:"m",type:"button",onClick:function(){l.push("/")}})]})}))),w=Object(i.f)((function(e){var t=e.history;return Object(a.useEffect)((function(){sessionStorage.getItem("userName")||t.push("/login")}),[t]),Object(b.jsx)("div",{className:"contact-list",children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/login",exact:!0,component:v}),Object(b.jsx)(i.a,{path:"/",exact:!0,component:y}),Object(b.jsx)(i.a,{path:"/:id/edit",render:function(e){return Object(b.jsx)(S,Object(l.a)(Object(l.a)({},e),{},{children:Object(b.jsx)(E,{title:"Edit contact"})}))}}),Object(b.jsx)(i.a,{path:"/new",exact:!0,render:function(e){return Object(b.jsx)(S,Object(l.a)(Object(l.a)({},e),{},{children:Object(b.jsx)(E,{title:"New contact"})}))}})]})})})),I=(c(45),c(13)),U=c(15),A=c(26),D={userName:sessionStorage.getItem("userName"),contacts:sessionStorage.getItem("contacts")?JSON.parse(sessionStorage.getItem("contacts")):[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_NAME":return Object(l.a)(Object(l.a)({},e),{},{userName:t.payload});case"ADD_CONTACT":var c=Math.floor(1e3*Math.random()),a=Object(A.a)(),n={id:a,name:t.payload.name,phone:t.payload.phone,photoUrl:"https://picsum.photos/id/".concat(c,"/200/200")},s=JSON.parse(sessionStorage.getItem("contacts"));return s?sessionStorage.setItem("contacts",JSON.stringify([].concat(Object(U.a)(s),[n]))):sessionStorage.setItem("contacts",JSON.stringify([n])),Object(l.a)(Object(l.a)({},e),{},{contacts:[].concat(Object(U.a)(e.contacts),[n])});case"UPDATE_CONTACT":var o=e.contacts.findIndex((function(e){return e.id==t.payload.id})),r={id:e.contacts[o].id,name:t.payload.name,phone:t.payload.phone,photoUrl:e.contacts[o].photoUrl},i=[].concat(Object(U.a)(e.contacts.slice(0,o)),[r],Object(U.a)(e.contacts.slice(o+1)));return sessionStorage.setItem("contacts",JSON.stringify(i)),Object(l.a)(Object(l.a)({},e),{},{contacts:i});case"SET_NAME":return Object(l.a)(Object(l.a)({},e),{},{name:t.payload});case"SET_PHONE":return Object(l.a)(Object(l.a)({},e),{},{phone:t.payload});default:return e}},J=c(25),M=Object(I.createStore)(k,Object(J.composeWithDevTools)());o.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(m.a,{store:M,children:Object(b.jsx)(r.a,{children:Object(b.jsx)(i.a,{path:"/",component:w})})})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.8555546f.chunk.js.map